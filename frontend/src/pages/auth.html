<!DOCTYPE html>
<html lang="en">
<head>
    <meta name="viewport">
    <meta charset="UTF-8">
    <title>Sign Up</title>
    <link rel="stylesheet" type="text/css" href="../styles/auth.css">
    <script>
        let isLogin = true;
        function changeToForm (id) {
            document.getElementById(id).style.display = 'flex';
            if (id === 'signup') {
                isLogin = false;
                document.getElementById('login').style.display = 'none';
            } else {
                isLogin = true;
                document.getElementById('signup').style.display = 'none';
            }
        }

        function login () {
            let username
            if (isLogin) {
                username = document.getElementById('loginUsername').value;
            } else {
                username = document.getElementById('registerUsername').value;
            }
            sessionStorage.setItem('username', username);
            parent.document.getElementById('auth').innerText = username;
            window.location.replace('./homepage.html')
        }
    </script>
</head>
<body>
<div class="auth-form">
    <ul class="tab-switcher">
        <li class="tab" onclick="changeToForm('login')">Log In</li>
        <li class="tab active" onclick="changeToForm('signup')">Sign Up</li>
    </ul>

    <div class="form-variants">
        <div id="login">
            <h1>Login</h1>
            <form action="/" method="POST">
                <div class="field-wrap">
                    <label>
                        <input id="loginUsername" placeholder="Username / Email" type="email" required/>
                    </label>
                </div>

                <div class="field-wrap">
                    <label>
                        <input id="loginPassword" placeholder="Password" type="password" required autocomplete="off"/>
                    </label>
                </div>
            </form>
        </div>

        <div id="signup">
            <h1>Sign Up for free</h1>
            <form action="/" method="POST">
                <div class="field-wrap">
                    <label>
                        <input id="registerUsername" placeholder="Username" required/>
                    </label>
                </div>

                <div class="field-wrap">
                    <label>
                        <input id="registerEmail" placeholder="Email" type="email" required/>
                    </label>
                </div>

                <div class="field-wrap">
                    <label>
                        <input id="registerPassword" placeholder="Password" type="password" required autocomplete="off"/>
                    </label>
                </div>

                <div class="field-wrap">
                    <label>
                        <input id="registerConfirmPassword" placeholder="Confirm password" type="password" required autocomplete="off"/>
                    </label>
                </div>
            </form>
        </div>
    </div>
    <div id="submit">
        <button onclick="login()">Submit</button>
    </div>
</div>
</body>
</html>